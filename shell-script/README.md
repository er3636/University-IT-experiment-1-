# University-IT-experiment-1-
大学の情報工学実験１という講義で作ったプログラムをまとめてみました

# Shell Script Experiment

課題1から4までに取り組み，答えをレポートにまとめよ．発展課題は必須ではないが，ぜひともチャレンジして欲しい．

# 課題1
数値を与えると，数値を出力するプログラム unknown が存在する．このとき，以下の問に答えよ．なお，シェルは何を用いてもよい．

1-1: 1 から 10 までの入力を与えるとどのような出力結果が得られるか答えよ．

1-2: 1 から 500 までの入力を与えて，その出力結果を unknown.log に出力するシェルスクリプトを作成せよ．出力したファイルの内容はレポートには記載せず，ファイルを添付せよ．

1-3: 1 から 500 までの入力を与えて，その間の最大値と最小値，およびそのときに入力した数値を出力するシェルスクリプトを作成せよ．

1-4(発展課題): 上記課題をスクリプト言語(python や ruby など)でも作成し，両者の記述性について述べよ．

# 課題2
以下の要件を満たすシェルスクリプト(1 行のコマンドでもよい)を，リダイレクトやパイプといったシェルの機能を用いて実現し，その出力結果を示せ．

2-1: 現在いるディレクトリの中から，ファイルサイズの大きい上位 3 つのファイルを出力する．

2-2: [Linux のソースコード](https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.19.1.tar.xz)の中から，"Linus"という文字列を含むテキストファイル(.txt で終わるファイル)と，C ファイル(.c もしくは .h で終わるファイル)とに分けて，その結果を linus.log というファイルにそれぞれ書き出す．なお，出力結果がわかりやすくなるよう，それぞれの結果の前に "===== TEXT FILES =====" と "===== C FILES ====="という文字列を挿入するようにせよ．ソースコードファイルは圧縮されており，``tar Jxf linux-4.19.1.tar.xz``で解凍できる．レポートには linus.log の内容は記載せず，ファイルを添付せよ．

2-3(発展課題): Linux のソースコードの中から，ファイルサイズの大きい上位 3 つのファイルを出力する．

# 課題3
[気象庁](http://www.jma.go.jp/jma/index.html)が観測した，F 市のデータがある．2017 年 1 月から 10 月までの気象データが格納されており，左より 1.日付，2.一日の平均気温，3.最高気温，4.最低気温，5.降水量，6.日照時間，7.平均風速，8.最高風速，9.最高瞬間風速，の値が示されている．このとき以下の問に答えよ．なお，作成するスクリプトはシェルスクリプトでもよいし，スクリプト言語(Python など)を用いたものでもよい．

3-1: 日付以外の各項目における最大値，最小値を観測した日付を出力するスクリプトを作成せよ．

3-2: 一日の平均気温，降水量，日照時間の月別の平均値を出力するスクリプトを作成せよ．

3-3: 今，新たにW 市のデータとK 市のデータが追加された．これら 3 都市の全データを走査し，平均気温，最高気温，最低気温の 1.最大値と最小値，2.それぞれの日，3.都市名，を出力するスクリプトを作成せよ．

# 課題4
Facebook や Google といった大規模なウェブサービスを考える．こうしたサービスは，多数の高性能マシン(サーバマシンと呼ぶ)を連携することで実現されている．今，これらのサーバマシンの状態を表したログがラック(サーバ計算機を格納する箱)ごとにある．ラックは全部で 100 台ある．ログには，1.サーバの ID(ID)，2.現在稼働しているか否か(STATUS)，3.連続稼動時間(HOURS)，4.直近でサーバマシンが停止した理由(SYMPTOM)，が記載されている．このとき，以下の問に答えよ．ログはracklogs.tar.gzに圧縮されている．"tar zxf racklogs.tar.gz"で解凍できる．なお，作成するスクリプトはシェルスクリプトでもよいし，スクリプト言語(Python など)を用いたものでもよい．

4-1: データセンタ内で現在稼働しているサーバマシンの割合(つまり全ラック中の全サーバマシンにおいて稼働中のサーバマシンの割合)を計算するスクリプトを作成せよ．STATUS は OK であれば稼働中，DOWN であれば停止中である．また，各ラックのサーバマシンの平均稼働時間の長い上位 3 位のラック名を出力するスクリプトを作成せよ．

4-2: サーバマシンが停止した理由をその割合とともランク付けするスクリプトを作成せよ．SYMPTOM は MAINTENACE(メンテナンス), DISK FAILURE(ディスク故障)，POWER FAILURE(電源障害)，CPU ERROR(CPU のエラー)，MEMORY ERROR(メモリエラー)，UNKNOWN ERROR(原因不明)に別れている．

4-3: rack1 から rack10 までのデータをエクセルでみるために，これらのログを 1 つの CSV(Comma Separated Values) 形式のファイルにまとめることを考える．CSV 形式は各項目をカンマで区切った形式のファイルである．サーバの ID とラック名をハイフンでつなげ(たとえば rack1 の server1 であれば server1-rack1)，rack1 から rack10 のデータを 1 つの CSV 形式に集約するスクリプトを作成せよ．

4-4(発展課題): スライドや本ページ説明したような，あるプログラムを動かしてその挙動を監視するようなスクリプトを記述し，そのリソース使用率をグラフ化せよ．監視するプログラムやリソース(CPU やメモリ，ディスク使用量など)はなんでもよい．

# 自分の解答
"shell_script.pdf"
