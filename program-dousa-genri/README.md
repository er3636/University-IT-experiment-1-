# University-IT-experiment-1-
大学の情報工学実験１という講義で作ったプログラムをまとめてみました

# プログラム動作原理　課題

課題1から4までに取り組み，答えをレポートにまとめよ．発展課題は必須ではないが，ぜひともチャレンジして欲しい．
課題1から4までに取り組み，答えをレポートにまとめよ．発展課題は必須ではないが，ぜひともチャレンジして欲しい．
課題1
次のプログラムについて，以下の問に答えよ．

```
  1	#include <stdio.h>
  2
  3	int comb(int n, int r)
  4	{
  5		int ret;
  6
  7		if (n == 0) ret = 1;
  8		else if (r == 1) ret = n;
  9		else if (r == 0 || n == r) ret = 1;
 10		else ret = comb(n-1, r-1) + comb(n-1, r);
 11
 12		return ret;
 13	}
 14
 15	int main()
 16	{
 17		int a;
 18
 19		a = comb(4,2);
 20		printf("a = %d\n", a);
 21
 22		return 0;
 23	}
```		
	      
1-1: 上記のプログラムを実行し，出力結果を示せ．

1-2: comb(4,2)によって comb()は何回呼ばれるか．

1-3: comb(4,2)を実行したときのスタックの様子を図示しながら説明せよ．

1-4(発展課題): 無限に再帰を行うプログラムを動作させる(たとえば f() という関数があり，冒頭で f() を呼び出す)と，Segmentation fault が生じる．このとき，内部的に何が生じているか調査し，その挙動を考察せよ．

課題2
次のプログラムについて，以下の問に答えよ．

	    
  1	#include <stdio.h>
  2
  3	int *foo()
  4	{
  5		volatile int a, b;
  6		a = 10;
  7		return &a;
  8	}
  9
 10	int *bar()
 11	{
 12		volatile int a, b;
 13		b = 20;
 14		return &b;
 15	}
 16
 17	int baz()
 18	{
 19		int a, b;
 20		a = 80;
 21		b = 90;
 22		return 0;
 23	}
 24
 25	int main()
 26	{
 27		int *p, *q, r;
 28
 29		p = foo();
 30		q = bar();
 31		printf("*p = %d, *q = %d\n", *p, *q);
 32
 33		r = baz();
 34		printf("*p = %d, *q = %d\n", *p, *q);
 35
 36		return 0;
 37	}
	    
	  
2-1: 上記のプログラムを実行し，出力結果を示せ．

2-2: なぜ 2-1 で確認したような出力結果になるのか．プログラムの挙動を考察せよ．

2-3(発展課題): 2 つの変数の値を入れ替えたいときには，swap(int a, int b) とするのではなく，swap(int *a, int *b) のようにポインタを渡す必要がある．これはなぜか．スタックに格納される値と関連づけて理由を説明せよ．

課題3
3-1: 課題 1 で扱った int comb() のアセンブラコードを示せ(gcc -S を使って，comb() の処理に該当するアセンブラコードを示せ)．

3-2: 1で得られたアセンブラコードの挙動を説明せよ．

3-3: comb(4,2) を実行したとき，スタックはどのように変化するか．x86 を題材として，レジスタ値やスタックフレームの変化を図示しながら具体的に述べよ．

3-4(発展課題):RFLAGS の内容を調査せよ．わかる範囲でよいので，それぞれのフラグの役割を述べよ．

課題4
次のプログラムについて，以下の問に答えよ．

	    
 1   int main()
 2   {
 3       int a[4], i;
 4		
 5       for (i = 0; i < 8; i++)
 6           a[i] = 0;
 7	
 8       return 0;
 9   }
            
	  
4-1: 上記のプログラムを実行し，どのような挙動を示したか述べよ．

4-2: なぜ 4-1 で確認したような挙動になるのか．プログラムの挙動を考察し，スタックの状態を示しながら述べよ．

4-3(発展課題):スタックの破壊を検知する手法は様々提案されている．そのうちのひとつであるカナリア変数について調査せよ．
